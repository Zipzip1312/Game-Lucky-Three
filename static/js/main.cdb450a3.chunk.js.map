{"version":3,"sources":["reportWebVitals.js","mock.js","redux/appReducer.js","redux/gameReducer.js","redux/middleware/apiMiddleware.js","history.js","redux/middleware/historyMiddleware.js","util/getPlayerParam.js","util/isSafari.js","redux/middleware/shuffleMiddleware.js","redux/store.js","images/score-holder.svg","images/holder-active.svg","images/lock.svg","images/coin.svg","images/dog.svg","components/DrawPrizes.js","components/Stars.js","components/NavButton.js","components/Rules.js","components/screens/WelcomeScreen.js","images/menu-icon.svg","components/FormCheckbox.js","components/BirthdayPicker.js","util/isValidDate.js","components/SocialLinks.js","components/Form.js","images/dogs.svg","components/InviteButton.js","images/dog-ok-2.svg","components/HailCard.js","components/GameHeader.js","components/ScoreCard.js","components/Confetti.js","components/Game.js","App.js","components/screens/FormScreen.js","components/screens/InviteScreen.js","components/screens/GameScreen.js","particle.js","components/SpaceBackground.js","AppWrapper.js","util/imagePreload.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","status","app","rulesAccepted","form","sex","birthday","messenger","disabled","formFilled","inviteLink","invitesLeft","game","picksAvailable","timesToShuffle","totalScore","currentScore","selectedCards","gameResults","sleep","m","Promise","r","setTimeout","fetchStatus","createAsyncThunk","a","slice","createSlice","name","initialState","pending","screens","activeScreen","undefined","enableNav","showRules","reducers","toggleScreen","state","toggleNav","payload","toggleRules","toggleRulesAccepted","updateForm","formFiled","key","disableForm","setInviteLink","handleSendInvite","updateState","extraReducers","fulfilled","actions","player","picksEnabled","showPicksCounter","shuffling","shuffleDuration","gameOver","scores","indexes","showConfetti","setPlayer","startShuffle","stopShuffle","shuffleScores","shuffle","disablePicks","updateCurrentScore","push","score","index","length","i","won","includes","makePick","dispatch","getState","apiMiddleware","store","next","action","type","updateGameState","updateAppState","createBrowserHistory","historyMiddleware","history","results","RegExp","exec","window","location","href","decodeURIComponent","replace","getPlayerParam","isSafari","standalone","navigator","userAgent","toLowerCase","safari","indexOf","test","shuffleMiddleware","duration","iterations","clearIntervalTimeout","intervalId","setInterval","clearInterval","makeShuffle","configureStore","reducer","appReducer","gameReducer","middleware","getDefaultMiddleware","concat","DrawPrizes","hide","delay","prizeClasses","prizeAnimation","delay1","delay2","delay3","className","Stars","useSelector","activeClasses","NavButton","props","show","useState","animation","setAnimation","useDispatch","useEffect","onClick","Rules","hideRules","ShowRulesBtn","classes","wrapper","btn","FormCheckbox","label","active","monthNames","createRange","start","end","pad","reverse","range","Select","dateProp","value","firstOption","options","labels","onChange","map","option","BirthdayPicker","onUpdate","date","Date","dateProps","day","getDate","month","getMonth","year","getFullYear","setState","hasError","setHasError","newValue","newState","datePropsFilled","prop","join","split","v","parseInt","d","isValidDate","obj","Object","hasOwnProperty","call","setInitialStateValues","event","target","SocialLinks","activeLink","setActive","handleClick","link","Form","handleFormUpdate","SelectMediaBtn","InviteBtn","timeout","clearTimeout","rel","ToGameBtn","InviteButton","showToGameBtn","HailCard","animationOut","setAnimationOut","animationIn","setAnimationIn","src","DogOkImg","alt","DogImg","GameTitle","picks","PicksCounter","selecting","hasPicks","setHasPicks","StartButton","GameHeader","setPicks","CARD_OPENED","CARD_SELECTED","CARD_SEALED","ScoreCard","cardIndex","sealed","selected","flippedProps","setScore","showScore","setShowScore","setStatus","select","max","min","Math","random","gameOverHandler","Confetti","now","requestAnimationFrame","frame","defaults","particleCount","spread","ticks","zIndex","confetti","angle","origin","x","Game","flipKey","JSON","stringify","spring","stiffness","damping","onComplete","flipId","stagger","routes","path","Component","MenuIcon","doneInviting","setDoneInviting","inviteFriendsText","DogsImg","App","forEach","createRef","exact","match","CSSTransition","nodeRef","in","classNames","unmountOnExit","ref","Particle","bounds","this","_bounds","reset","init","z","depth","y","ox","oy","oz","vx","vy","vz","ax","ay","az","s","sx","sy","os","osx","osy","hue","lightness","alpha","sr","SpaceBackground","_canvasRef","_canvas","_tick","_update","_draw","_tickRaf","raf","_reset","cancel","size","numParticles","lineWidth","alphaFactor","style","rest","id","width","height","_particles","update","ctx","getContext","save","translate","_vp","clearRect","p","beginPath","moveTo","lineTo","strokeStyle","stroke","restore","vp","PureComponent","defaultProps","position","top","left","right","bottom","overflow","innerWidth","innerHeight","AppWrapper","showApp","setShowApp","showSpaceBg","setShowSpaceBg","document","documentElement","classList","add","images","Image","imagePreload","ScoreHolderImage","HolderActiveImage","LockImage","CoinImage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cdb450a3.chunk.js","sourcesContent":["const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","export const status = {\n  app: {\n    rulesAccepted: false,\n    form: {\n      sex: '',\n      birthday: '',\n      messenger: '',\n      // sex: 1,\n      // birthday: '1985-12-13',\n      // messenger: 'telegram',\n      disabled: false\n    },\n    formFilled: false,\n    inviteLink: '',\n    invitesLeft: 1\n  },\n  game: {\n    picksAvailable: 3,\n    timesToShuffle: 3,\n    totalScore: 0,\n    currentScore: [],\n    selectedCards: [],\n    gameResults: []\n  }\n}\n\nexport const _status = {\n  app: {\n    rulesAccepted: true,\n    form: {},\n    formFilled: true,\n    invitesLeft: 0\n  },\n  game: {\n    totalScore: 10,\n    scores: [1000, 500, 250, 0, 100, 10, 50, 50, 25, 25, 100, 10, 0, 0, 250, 0],\n    currentScore: [\n      {\n        index: 5,\n        score: 0\n      },\n      {\n        index: 3,\n        score: 10\n      },\n      {\n        index: 15,\n        score: 0\n      }\n    ],\n    selectedCards: [3, 5, 15],\n    gameResults: [\n      {\n        score: 1000,\n        won: false\n      },\n      {\n        score: 500,\n        won: false\n      },\n      {\n        score: 250,\n        won: false\n      },\n      {\n        score: 0,\n        won: true\n      },\n      {\n        score: 100,\n        won: false\n      },\n      {\n        score: 10,\n        won: true\n      },\n      {\n        score: 50,\n        won: false\n      },\n      {\n        score: 50,\n        won: false\n      },\n      {\n        score: 25,\n        won: false\n      },\n      {\n        score: 25,\n        won: false\n      },\n      {\n        score: 100,\n        won: false\n      },\n      {\n        score: 10,\n        won: false\n      },\n      {\n        score: 0,\n        won: false\n      },\n      {\n        score: 0,\n        won: false\n      },\n      {\n        score: 250,\n        won: false\n      },\n      {\n        score: 0,\n        won: true\n      }\n    ]\n  }\n}\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { status } from 'mock'\n\nconst sleep = (m) => new Promise((r) => setTimeout(r, m))\nexport const fetchStatus = createAsyncThunk('fetchStatus', async () => {\n  await sleep(1000)\n  return status\n})\n\nexport const slice = createSlice({\n  name: 'app',\n  initialState: {\n    pending: true,\n    screens: ['welcome', 'form', 'invite', 'game'],\n    activeScreen: undefined,\n    enableNav: false,\n    showRules: false,\n    rulesAccepted: false,\n    form: {\n      sex: '',\n      birthday: '',\n      messenger: '',\n      disabled: false\n    },\n    formFilled: false,\n    inviteLink: '',\n    invitesLeft: 2\n  },\n  reducers: {\n    toggleScreen: (state) => {\n      let activeScreen = 0\n      state.rulesAccepted && activeScreen++\n      state.formFilled && activeScreen++\n      state.invitesLeft < 1 && state.formFilled && activeScreen++\n      state.activeScreen = state.screens[activeScreen]\n      state.enableNav = false\n    },\n    toggleNav: (state, { payload }) => {\n      state.enableNav = payload\n    },\n    toggleRules: (state) => {\n      state.showRules = !state.showRules\n    },\n    toggleRulesAccepted: (state) => {\n      state.rulesAccepted = !state.rulesAccepted\n    },\n    updateForm: (state, { payload }) => {\n      state.form = payload\n      let formFiled = true\n      for (const key in state.form) {\n        if (state.form[key] === '') {\n          formFiled = false\n        }\n      }\n      state.formFilled = formFiled\n      state.enableNav = formFiled\n      // set default inviteLink same as messenger\n      if (formFiled) state.inviteLink = state.form.messenger\n    },\n    disableForm: (state) => {\n      state.form.disabled = true\n    },\n    setInviteLink: (state, { payload }) => {\n      state.inviteLink = payload\n    },\n    handleSendInvite: (state) => {\n      state.invitesLeft = state.invitesLeft - 1\n    },\n    updateState: (state, { payload }) => {\n      return { ...state, ...payload }\n    }\n  },\n  extraReducers: {\n    [fetchStatus.pending]: (state) => {\n      state.pending = true\n    },\n    [fetchStatus.fulfilled]: (state) => {\n      state.pending = false\n    }\n    // [fetchStatus.rejected]: (state, action) => {\n    //   state.pending = true\n    // }\n  }\n})\n\nexport const {\n  toggleScreen,\n  toggleNav,\n  toggleRules,\n  toggleRulesAccepted,\n  updateForm,\n  disableForm,\n  setInviteLink,\n  handleSendInvite,\n  updateState\n} = slice.actions\n\nexport default slice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\nimport shuffle from 'lodash.shuffle'\n\nconst sleep = (m) => new Promise((r) => setTimeout(r, m))\n\nexport const slice = createSlice({\n  name: 'game',\n  initialState: {\n    player: '',\n    picksAvailable: 3,\n    picksEnabled: false,\n    showPicksCounter: false,\n    shuffling: false,\n    shuffleDuration: 1500,\n    timesToShuffle: 3,\n    gameOver: false,\n    scores: [1000, 500, 250, 250, 100, 100, 50, 50, 25, 25, 10, 10, 0, 0, 0, 0],\n    indexes: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], // for shuffling animation and further score select\n    totalScore: 0,\n    currentScore: [],\n    selectedCards: [],\n    gameResults: [],\n    showConfetti: true\n  },\n  reducers: {\n    setPlayer: (state, { payload }) => {\n      state.player = payload\n    },\n    startShuffle: (state) => {\n      state.shuffling = true\n    },\n    stopShuffle: (state) => {\n      state.picksEnabled = true\n      state.showPicksCounter = true\n    },\n    shuffleScores: (state) => {\n      state.scores = shuffle(state.scores)\n      state.indexes = shuffle(state.indexes)\n    },\n    disablePicks: (state) => {\n      state.picksEnabled = false\n    },\n    updateCurrentScore: (state, { payload }) => {\n      state.currentScore.push(payload)\n      state.totalScore += payload.score\n      state.selectedCards.push(payload.index)\n      state.picksEnabled = state.currentScore.length < state.picksAvailable\n\n      if (!state.picksEnabled) {\n        state.gameOver = true\n        // Set game results\n        for (let i = 0; i < state.indexes.length; i++) {\n          state.gameResults.push({\n            score: state.scores[i],\n            won: state.selectedCards.includes(i)\n          })\n        }\n      }\n    },\n    updateState: (state, { payload }) => {\n      return { ...state, ...payload }\n    }\n  }\n})\n\nexport const {\n  setPlayer,\n  startShuffle,\n  stopShuffle,\n  shuffleScores,\n  updateCurrentScore,\n  disablePicks,\n  updateState\n} = slice.actions\n\nexport default slice.reducer\n\nexport function registerPlayer() {\n  return async (dispatch) => {\n    await sleep(500)\n    const response = {\n      verification: 'Player'\n    }\n    dispatch(setPlayer(response.verification))\n  }\n}\n\nexport function makePick(index) {\n  return async (dispatch, getState) => {\n    dispatch(disablePicks())\n    await sleep(300)\n    const score = getState().game.scores[index]\n    dispatch(updateCurrentScore({ index, score }))\n\n    return score\n  }\n}\n","import { updateState as updateAppState, toggleScreen } from 'redux/appReducer'\nimport { updateState as updateGameState } from 'redux/gameReducer'\n\nconst apiMiddleware = (store) => (next) => (action) => {\n  if (action.type === 'fetchStatus/fulfilled') {\n    const { app, game } = action.payload\n    game.gameOver = game.gameResults.length > 0\n    game.showConfetti = !game.gameOver // show confetti only once, not for returned players\n    store.dispatch(updateGameState(game))\n    store.dispatch(updateAppState(app))\n    store.dispatch(toggleScreen())\n  }\n  next(action)\n}\n\nexport default apiMiddleware\n","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()\n","import getPlayerParam from 'util/getPlayerParam'\nimport history from '../../history'\n\nconst historyMiddleware = (store) => (next) => (action) => {\n  next(action)\n  // -----------------------------\n  // Track for screen change to sync it with history and keep player param if presented\n  // -----------------------------\n  if (action.type === 'app/toggleScreen') {\n    const { activeScreen } = store.getState().app\n    history.push(activeScreen + getPlayerParam())\n  }\n}\n\nexport default historyMiddleware\n","export default function getPlayerParam() {\n  var regex = new RegExp('[?&]player(=([^&#]*)|&|#|$)'),\n    results = regex.exec(window.location.href)\n  if (!results || !results[2]) return ''\n\n  return '?player=' + decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n","export default function isSafari() {\n  const standalone = window.navigator.standalone,\n    userAgent = window.navigator.userAgent.toLowerCase(),\n    safari =\n      userAgent.indexOf('safari') !== -1 && userAgent.indexOf('chrome') === -1\n\n  return (/iphone|ipod|ipad/.test(userAgent) && !standalone) || safari\n}\n","import { shuffleScores } from 'redux/gameReducer'\nimport isSafari from 'util/isSafari'\n\nconst shuffleMiddleware = (store) => (next) => (action) => {\n  next(action)\n\n  function makeShuffle() {\n    const duration = store.getState().game.shuffleDuration\n    const iterations = store.getState().game.timesToShuffle\n    const clearIntervalTimeout = duration * (iterations - (isSafari() ? 0 : 1))\n\n    setTimeout(() => {\n      store.dispatch(shuffleScores())\n      const intervalId = setInterval(store.dispatch, duration, shuffleScores())\n      setTimeout(clearInterval, clearIntervalTimeout, intervalId)\n    }, 1000)\n  }\n\n  if (action.type === 'game/startShuffle') makeShuffle()\n}\n\nexport default shuffleMiddleware\n","import { configureStore } from '@reduxjs/toolkit'\nimport appReducer from 'redux/appReducer'\nimport gameReducer from 'redux/gameReducer'\nimport apiMiddleware from 'redux/middleware/apiMiddleware'\nimport historyMiddleware from 'redux/middleware/historyMiddleware'\nimport shuffleMiddleware from 'redux/middleware/shuffleMiddleware'\n\nexport default configureStore({\n  reducer: {\n    app: appReducer,\n    game: gameReducer\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat([\n      apiMiddleware,\n      historyMiddleware,\n      shuffleMiddleware\n    ])\n})\n","export default __webpack_public_path__ + \"static/media/score-holder.cfbd80a2.svg\";","export default __webpack_public_path__ + \"static/media/holder-active.6d7936af.svg\";","export default __webpack_public_path__ + \"static/media/lock.2b85bc39.svg\";","export default __webpack_public_path__ + \"static/media/coin.063a406b.svg\";","export default __webpack_public_path__ + \"static/media/dog.f613ca8c.svg\";","export default function DrawPrizes({ hide = false, delay = true }) {\n  const wrapperClasses = 'draw-prizes flex-center white bold mt-2 mb-auto'\n  const prizeClasses = 'prize flex-center'\n  const prizeAnimation = 'animate bounceInRight'\n  const hideAnimation = 'animate hidden'\n  const delay1 = delay ? 'delay-2' : 'delay-0'\n  const delay2 = delay ? 'delay-2-5' : 'delay-0-5'\n  const delay3 = delay ? 'delay-3' : 'delay-1'\n\n  return (\n    <div className={`${wrapperClasses} ${hide ? hideAnimation : ''}`}>\n      <div className={`${prizeClasses} ${prizeAnimation} ${delay3}`}>1000</div>\n      <div className={`${prizeClasses} ${prizeAnimation} ${delay2}`}>500</div>\n      <div className={`${prizeClasses} ${prizeAnimation} ${delay1}`}>250</div>\n    </div>\n  )\n}\n","import { useSelector } from 'react-redux'\n\nexport default function Stars() {\n  const rulesAccepted = useSelector((state) => state.app.rulesAccepted)\n  const formFilled = useSelector((state) => state.app.formFilled)\n  const invitesLeft = useSelector((state) => state.app.invitesLeft)\n  const activeClasses = 'active animate tada'\n\n  return (\n    <div className=\"stars\">\n      <div className=\"flex-center\">\n        <div className={`star ${rulesAccepted ? activeClasses : ''}`}></div>\n        <div className={`star ${formFilled ? activeClasses : ''}`}></div>\n        <div className={`star ${invitesLeft < 1 ? activeClasses : ''}`}></div>\n      </div>\n    </div>\n  )\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { useState, useEffect } from 'react'\nimport { toggleScreen } from 'redux/appReducer'\n\nexport default function NavButton(props) {\n  const show = useSelector((state) => state.app.enableNav)\n  const [animation, setAnimation] = useState('')\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    show && setAnimation('active jello delay-1')\n  }, [show])\n\n  const handleClick = () => {\n    setAnimation('clicked')\n    dispatch(toggleScreen())\n    props.onClick && props.onClick()\n  }\n\n  return (\n    <div className=\"nav flex-center mt-2 mb-auto\">\n      <div\n        className={`nav-link animate ${\n          show ? 'bounceInLeft' : 'bounceOutRight'\n        }`}\n      >\n        <div\n          className={`link animate ${animation}`}\n          onClick={handleClick}\n        ></div>\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { toggleRules, toggleRulesAccepted } from 'redux/appReducer'\n\nexport default function Rules() {\n  const { showRules, rulesAccepted } = useSelector((state) => state.app)\n  const dispatch = useDispatch()\n  const [animation, setAnimation] = useState('hidden')\n  const hideRules = () => {\n    setAnimation('bounceOutDown')\n    setTimeout(dispatch, 500, toggleRules())\n  }\n  const acceptRules = () => {\n    hideRules()\n    setTimeout(dispatch, 1000, toggleRulesAccepted())\n  }\n\n  useEffect(() => {\n    setAnimation(showRules ? 'bounceInUp' : 'bounceOutDown')\n  }, [showRules])\n\n  return (\n    <div className={`rules-wrapper animate ${animation}`}>\n      <div className=\"rules-text white pb-3\">\n        <h1>Game rules</h1>\n        <p>1. Accept this rules.</p>\n        <p>\n          2. Fill out the form with personal data.\n          <br />\n          <small>\n            <i>(your data will not be stored or transmitted)</i>\n          </small>\n        </p>\n        <p>\n          3. Send invite to a friend.\n          <br />\n          <small>\n            <i>(just pretend you do)</i>\n          </small>\n        </p>\n        <p>4. Start the game and pick 3 cards.</p>\n        <p>5. Have some fun!</p>\n        <br />\n        <p>\n          <i>This game is a simple demonstration, no real money.</i>\n        </p>\n      </div>\n      <div className=\"rules-controls-wrapper w-100\">\n        <div className=\"rules-controls d-flex light-blue\">\n          <div className=\"form-submit close cursor-pointer\" onClick={hideRules}>\n            <div className=\"btn pl-05 pr-05\">Close</div>\n          </div>\n          {!rulesAccepted && (\n            <div className=\"form-submit\">\n              <div className=\"btn active nowrap\" onClick={acceptRules}>\n                I accept the rules\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import DogImg from 'images/dog.svg'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { toggleRules, toggleNav } from 'redux/appReducer'\nimport { useEffect } from 'react'\nimport DrawPrizes from 'components/DrawPrizes'\nimport Stars from 'components/Stars'\nimport NavButton from 'components/NavButton'\nimport Rules from 'components/Rules'\n\nconst ShowRulesBtn = ({ rulesAccepted, onClick }) => {\n  const classes = {\n    wrapper: `form-submit light-blue cursor-pointer ls-1 animate ${\n      rulesAccepted ? '' : 'pulse'\n    }`,\n    btn: rulesAccepted ? 'disabled headShake' : 'active jello'\n  }\n  return (\n    <div className={classes.wrapper} onClick={onClick}>\n      <div className={classes.btn}>Rules</div>\n    </div>\n  )\n}\n\nexport default function WelcomeScreen() {\n  const rulesAccepted = useSelector((state) => state.app.rulesAccepted)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    rulesAccepted && setTimeout(dispatch, 1000, toggleNav(true))\n  }, [dispatch, rulesAccepted])\n\n  return (\n    <>\n      <DrawPrizes />\n      <div className=\"card mt-minus-1 mb-2\">\n        <img className=\"card-image\" src={DogImg} alt=\"Game Logo\" />\n        <div className=\"title-1 text-right pr-05\">\n          Play and&nbsp;\n          <br />\n          <big>win!</big>\n        </div>\n        <div className=\"card-info flex-center space-around mt-1\">\n          <div className=\"card-info-title fsz-2\">Prize fund</div>\n          <div className=\"card-info-card text-center red lh-1 animate jello delay-5\">\n            <div className=\"title-1\">$100</div>\n            <span className=\"fsz-1\">million</span>\n          </div>\n        </div>\n        <Stars />\n      </div>\n      <ShowRulesBtn\n        rulesAccepted={rulesAccepted}\n        onClick={() => dispatch(toggleRules())}\n      />\n      <NavButton />\n      <Rules />\n    </>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/menu-icon.1f97dba3.svg\";","export default function FormCheckbox({\n  label,\n  active,\n  onClick,\n  disabled = false\n}) {\n  const classes = `checkbox flex-center ${disabled ? 'disabled' : ''}`\n  return (\n    <div\n      className={`${classes} ${active ? 'active' : ''} `}\n      onClick={() => !disabled && onClick()}\n    >\n      <span>{label}</span>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport isValidDate from 'util/isValidDate'\n\nconst monthNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\n\nfunction createRange(start, end, pad = true, reverse = false) {\n  const range = []\n  for (let i = start; i <= end; i++) {\n    range.push(pad ? ('0' + i).slice(-2) : i)\n  }\n  return reverse ? range.reverse() : range\n}\n\nfunction datePropsFilled(state, dateProps) {\n  for (let i = 0; i < dateProps.length; i++) {\n    if (state[dateProps[i]].value === '') return false\n  }\n  return true\n}\n\nfunction setInitialStateValues(obj) {\n  for (const key in obj) {\n    if (Object.hasOwnProperty.call(obj, key)) {\n      typeof obj[key] === 'string' ? (obj[key] = '') : (obj[key].value = '')\n    }\n  }\n  return obj\n}\n\nconst Select = ({\n  dateProp,\n  value,\n  firstOption,\n  options,\n  labels = [],\n  onChange,\n  disabled\n}) => {\n  return (\n    <select\n      className={`select-${dateProp} ${value && 'active'}`}\n      value={value}\n      onChange={onChange}\n      disabled={disabled}\n    >\n      <option value=\"\" disabled>\n        {firstOption}\n      </option>\n\n      {options.map((option, i) => (\n        <option value={option} key={`${dateProp}-${i}`}>\n          {labels.length ? labels[i] : option}\n        </option>\n      ))}\n    </select>\n  )\n}\n\nexport default function BirthdayPicker({ birthday, onUpdate, disabled }) {\n  const date = birthday ? new Date(birthday) : ''\n  const dateProps = ['day', 'month', 'year']\n  const [state, setState] = useState({\n    date,\n    day: {\n      value: date ? date.getDate() : '',\n      options: createRange(1, 31),\n      firstOption: 'Day'\n    },\n    month: {\n      value: date ? date.getMonth() + 1 : '',\n      options: createRange(1, 12),\n      firstOption: 'Month',\n      labels: monthNames\n    },\n    year: {\n      value: date ? date.getFullYear() : '',\n      options: createRange(1925, 2005, false, true),\n      firstOption: 'Year'\n    }\n  })\n  const [hasError, setHasError] = useState(false)\n\n  const onChange = (dateProp, newValue) => {\n    let newState = {\n      ...state,\n      [dateProp]: { ...state[dateProp], value: newValue }\n    }\n\n    if (datePropsFilled(newState, dateProps)) {\n      newState.date = [\n        ...dateProps.reverse().map((prop) => newState[prop].value)\n      ].join('-')\n\n      if (!isValidDate(newState.date)) {\n        newState = setInitialStateValues(newState)\n        setHasError(true)\n        setTimeout(setHasError, 1000, false)\n      }\n\n      onUpdate(newState.date)\n    }\n\n    setState(newState)\n  }\n\n  return (\n    <div\n      className={`birthdaypicker flex-center ${\n        hasError ? 'animate headShake' : ''\n      }`}\n    >\n      {dateProps.map((prop) => (\n        <Select\n          dateProp={prop}\n          onChange={(event) => onChange(prop, event.target.value)}\n          key={prop}\n          {...state[prop]}\n          disabled={disabled}\n        />\n      ))}\n    </div>\n  )\n}\n","export default function isValidDate(date) {\n  let [year, month, day] = date.split('-').map((v) => parseInt(v))\n  month = month - 1\n  const d = new Date(year, month, day)\n\n  return (\n    d.getFullYear() === year && d.getMonth() === month && d.getDate() === day\n  )\n}\n","import { useState } from 'react'\n\nexport default function SocialLinks({\n  onClick,\n  activeLink = '',\n  disabled = false\n}) {\n  const media = ['viber', 'messenger', 'telegram']\n  const [active, setActive] = useState(activeLink)\n  const handleClick = (link) => {\n    setActive(link)\n    onClick(link)\n  }\n\n  return (\n    <div className={`social-links flex-center ${disabled ? 'disabled' : ''}`}>\n      {media.map((link) => {\n        return (\n          <div\n            className={`link ${link} ${\n              active === link ? 'active animate jello' : ''\n            }`}\n            onClick={() => !disabled && handleClick(link)}\n            key={link}\n          ></div>\n        )\n      })}\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { updateForm, toggleNav } from 'redux/appReducer'\nimport FormCheckbox from 'components/FormCheckbox'\nimport BirthdayPicker from 'components/BirthdayPicker'\nimport SocialLinks from 'components/SocialLinks'\n\nexport default function Form() {\n  const { form } = useSelector((state) => state.app)\n  const dispatch = useDispatch()\n  const handleFormUpdate = (payload) => {\n    dispatch(updateForm({ ...form, ...payload }))\n  }\n\n  // -----------------------------\n  // Show nav btn if form is disabled\n  // -----------------------------\n  useEffect(() => {\n    form.disabled && dispatch(toggleNav(true))\n  }, [form.disabled, dispatch])\n\n  return (\n    <div className=\"form flex-center\">\n      <div className=\"form-control\">\n        <span className=\"label text-gradient\">Sex?</span>\n        {['female', 'male', 'other'].map((label, i) => (\n          <FormCheckbox\n            label={label}\n            active={form.sex === i}\n            onClick={() => handleFormUpdate({ sex: i })}\n            key={i}\n            disabled={form.disabled}\n          />\n        ))}\n      </div>\n      <div className=\"form-control flex-column\">\n        <span className=\"label text-gradient\">When is your birthday?</span>\n        <BirthdayPicker\n          birthday={form.birthday}\n          onUpdate={(birthday) => handleFormUpdate({ birthday })}\n          disabled={form.disabled}\n        />\n      </div>\n      <div className=\"form-control flex-column\">\n        <span className=\"label text-gradient\">\n          The best way to communicate with you?\n        </span>\n        <SocialLinks\n          activeLink={form.messenger}\n          onClick={(messenger) => handleFormUpdate({ messenger })}\n          disabled={form.disabled}\n        />\n      </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/dogs.06946a8a.svg\";","import { useState, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { toggleScreen, handleSendInvite } from 'redux/appReducer'\n\nconst SelectMediaBtn = () => {\n  return (\n    <div className=\"message light-blue\">\n       \n      <br />\n       \n    </div>\n  )\n}\n\nconst InviteBtn = ({ inviteLink }) => {\n  const classes = 'active light-blue d-block no-decoration animate'\n  const [animation, setAnimation] = useState('headShake')\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    setAnimation('headShake')\n    const timeout = setTimeout(setAnimation, 500, '')\n    return () => clearTimeout(timeout)\n  }, [inviteLink])\n\n  return (\n    <a\n      href={`#${inviteLink}`}\n      className={`${classes} ${animation}`}\n      onClick={() => dispatch(handleSendInvite())}\n      // target=\"_blank\"\n      rel=\"noreferrer\"\n    >\n      Invite\n    </a>\n  )\n}\n\nconst ToGameBtn = () => {\n  const dispatch = useDispatch()\n\n  return (\n    <div\n      className=\"active large red pl-1-3 pr-1-3\"\n      onClick={() => dispatch(toggleScreen())}\n    >\n      Start playing!\n    </div>\n  )\n}\n\nexport default function InviteButton({ inviteLink, showToGameBtn }) {\n  const toGameBtnClasses = 'animate bounceInRight mt-minus-1'\n\n  return (\n    <div className={`form-submit ${showToGameBtn ? toGameBtnClasses : ''}`}>\n      {showToGameBtn ? (\n        <ToGameBtn />\n      ) : inviteLink ? (\n        <InviteBtn inviteLink={inviteLink} />\n      ) : (\n        <SelectMediaBtn />\n      )}\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/dog-ok-2.60a0a07b.svg\";","import DogImg from 'images/dog.svg'\nimport DogOkImg from 'images/dog-ok-2.svg'\nimport { useSelector } from 'react-redux'\nimport { useState, useEffect } from 'react'\n\nexport default function HailCard({ show }) {\n  const totalScore = useSelector((state) => state.game.totalScore)\n  const [animationOut, setAnimationOut] = useState('')\n  const [animationIn, setAnimationIn] = useState('hidden')\n\n  useEffect(() => {\n    if (show) {\n      const timeout = 1000\n      setTimeout(setAnimationOut, timeout, 'animate backOutLeft delay-3')\n      setTimeout(setAnimationIn, timeout, 'animate backInRight delay-4')\n    }\n  }, [show])\n\n  return (\n    <>\n      <div className={`card hail ${show ? 'open ' : ''} ${animationIn}`}>\n        <img className=\"card-image hail\" src={DogOkImg} alt=\"Game Logo\" />\n        <div className=\"card-title card-title-right text-left pr-05 mb-1 pt-1 ml-minus-1\">\n          <span className=\"title-3 lh-1-3 mt-minus-1\">\n            Wait for the SMS / Viber\n            <br />\n            message\n          </span>\n        </div>\n        <div className=\"card-info lh-1-3 fsz-1-3\">\n          <span>\n            about accrual of winning scores\n            <br />\n            on your card\n          </span>\n        </div>\n      </div>\n\n      <div className={`card hail ${show ? 'open ' : ''} ${animationOut}`}>\n        <img className=\"card-image\" src={DogImg} alt=\"Game Logo\" />\n        <div className=\"card-title card-title-right hail pr-05 mb-2 mt-0\">\n          <span className=\"text-gradient\">Hooray!</span>\n        </div>\n        <div className=\"card-info flex-center space-around\">\n          <div className=\"card-info-title title-1 nowrap\">You won</div>\n          <div className=\"card-info-card\">\n            <div className=\"total-score red fsz-2 lh-1-3\">${totalScore}</div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useSelector } from 'react-redux'\nimport { useState, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { startShuffle } from 'redux/gameReducer'\nimport DrawPrizes from 'components/DrawPrizes'\nimport HailCard from 'components/HailCard'\n\nconst GameTitle = ({ picks }) => {\n  return (\n    <div className=\"title-4 text-center white nowrap text-shadow mt-4 mb-auto\">\n      Play! You have one chance and {picks} attempts\n    </div>\n  )\n}\n\nconst PicksCounter = ({ picks, selecting }) => {\n  const [hasPicks, setHasPicks] = useState(picks > 0)\n  const [animation, setAnimation] = useState('rubberBand')\n\n  useEffect(() => {\n    setHasPicks(picks > 0)\n    if (selecting) setAnimation(hasPicks ? 'headShake' : 'zoomOut')\n    const timeout = setTimeout(setAnimation, 500, hasPicks ? '' : 'hidden')\n    return () => clearTimeout(timeout)\n  }, [selecting, picks, hasPicks])\n\n  return (\n    <div\n      className={`btn picks-counter flex-center red bold animate ${animation}`}\n    >\n      {hasPicks && (\n        <>\n          <span className=\"count\">{picks}</span>\n          <span className=\"fsz-1-3 pb-05\">\n            {picks === 1 ? 'attempt' : 'attempts'}\n          </span>\n        </>\n      )}\n    </div>\n  )\n}\n\nconst StartButton = ({ disabled }) => {\n  const dispatch = useDispatch()\n\n  return (\n    <>\n      <div\n        className={`btn ${disabled ? 'transparent' : ''}`}\n        onClick={() => !disabled && dispatch(startShuffle())}\n      ></div>\n      <div\n        className={`btn disabled ${disabled ? 'animate pulse' : 'transparent'}`}\n      ></div>\n    </>\n  )\n}\n\nconst GameHeader = ({ shuffling, gameOver }) => {\n  const { picksAvailable, currentScore, showPicksCounter } = useSelector(\n    (state) => state.game\n  )\n  const [picks, setPicks] = useState(picksAvailable)\n\n  useEffect(() => {\n    setPicks((picks) => (picks = picksAvailable - currentScore.length))\n  }, [currentScore, picksAvailable])\n\n  return (\n    <div className=\"game-header flex-center flex-wrap align-end pb-2\">\n      {showPicksCounter ? (\n        <>\n          <DrawPrizes hide={gameOver} delay={false} />\n          <PicksCounter picks={picks} selecting={currentScore.length > 0} />\n        </>\n      ) : (\n        !gameOver && (\n          <>\n            <GameTitle picks={picks} />\n            <StartButton disabled={shuffling} />\n          </>\n        )\n      )}\n\n      <HailCard show={gameOver} />\n    </div>\n  )\n}\n\nexport default GameHeader\n","import { useState, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makePick } from 'redux/gameReducer'\n\nconst CARD_OPENED = 'opened'\nconst CARD_SELECTED = 'opened win'\nconst CARD_SEALED = 'sealed'\nconst CARD_DISABLED = 'disabled'\n\nexport default function ScoreCard({\n  cardIndex,\n  picksEnabled,\n  sealed,\n  selected,\n  gameOver,\n  scores,\n  flippedProps\n}) {\n  const [score, setScore] = useState(scores[cardIndex])\n  const [showScore, setShowScore] = useState(true)\n  const [status, setStatus] = useState(gameOver ? CARD_SEALED : CARD_OPENED) // className\n  const dispatch = useDispatch()\n  const select = async () => {\n    const score = await dispatch(makePick(cardIndex))\n    setScore(score)\n    setStatus(CARD_OPENED)\n  }\n  const isSelectable = () =>\n    picksEnabled && !gameOver && !status.includes(CARD_OPENED)\n  // -----------------------------\n  // Update score\n  // -----------------------------\n  useEffect(() => {\n    setScore(() => scores[cardIndex])\n  }, [scores, cardIndex])\n  // -----------------------------\n  // Handle card status\n  // -----------------------------\n  useEffect(() => {\n    const cardStatusHandler = () => {\n      sealed && setStatus(selected ? CARD_OPENED : CARD_SEALED) // hide score behind the seal or open if card is selected\n      setShowScore(status !== CARD_SEALED) // remove score from the DOM when sealed\n      picksEnabled && setStatus(selected ? CARD_SELECTED : CARD_SEALED)\n    }\n    !gameOver && cardStatusHandler()\n  }, [gameOver, sealed, selected, picksEnabled, status])\n  // -----------------------------\n  // Show all cards when the game is over\n  // -----------------------------\n  useEffect(() => {\n    const gameOverHandler = () => {\n      setStatus(selected ? CARD_SELECTED : CARD_SEALED) // set initial state for returned players\n      setShowScore(true)\n      // animate appearance\n      const rng = (max, min) => Math.random() * (max - min) + min\n      const delay = score === 1000 ? 2000 : rng(1500, 300)\n      const status = selected ? CARD_SELECTED : CARD_DISABLED\n      setTimeout(setStatus, delay, status)\n    }\n    gameOver && gameOverHandler()\n  }, [gameOver, selected, score])\n  // -----------------------------\n\n  return (\n    <div\n      className={`score flex-center flex-column ${status}`}\n      {...flippedProps}\n      onClick={() => isSelectable() && select()}\n    >\n      <span className=\"seal\"></span>\n      <span className=\"coin\"></span>\n\n      {showScore && (\n        <span className={`${score === 0 ? 'oops' : ''}`}>\n          {score > 0 ? score : 'oops...'}\n        </span>\n      )}\n    </div>\n  )\n}\n","import confetti from 'canvas-confetti'\nimport { useEffect } from 'react'\n\nexport default function Confetti() {\n  useEffect(() => {\n    const duration = 3 * 1000\n    const end = Date.now() + duration\n    const frame = () => {\n      const defaults = { particleCount: 6, spread: 50, ticks: 180, zIndex: -1 }\n      // left edge\n      confetti({\n        angle: 60,\n        origin: { x: 0 },\n        ...defaults\n      })\n      // right edge\n      confetti({\n        angle: 120,\n        origin: { x: 1 },\n        ...defaults\n      })\n\n      // keep going until we are out of time\n      if (Date.now() < end) {\n        requestAnimationFrame(frame)\n      }\n    }\n    setTimeout(requestAnimationFrame, 500, frame)\n  }, [])\n  return <></>\n}\n","import { useSelector, useDispatch } from 'react-redux'\nimport { stopShuffle } from 'redux/gameReducer'\nimport { Flipper, Flipped } from 'react-flip-toolkit'\nimport GameHeader from 'components/GameHeader'\nimport ScoreCard from 'components/ScoreCard'\nimport Confetti from 'components/Confetti'\n\nconst Game = () => {\n  const {\n    scores,\n    indexes,\n    shuffling,\n    selectedCards,\n    picksEnabled,\n    gameOver,\n    showConfetti\n  } = useSelector((state) => state.game)\n  const dispatch = useDispatch()\n  const flipKey = JSON.stringify(indexes)\n  const spring = { stiffness: 300, damping: 30 }\n\n  return (\n    <div className=\"game flex-center flex-column mt-minus-2\">\n      <GameHeader shuffling={shuffling} gameOver={gameOver} />\n      <Flipper\n        flipKey={flipKey}\n        onComplete={() => dispatch(stopShuffle())}\n        className=\"game-body flex-center flex-wrap w-100 pt-1 mb-2\"\n      >\n        {indexes.map((index, i) => (\n          <Flipped key={index} flipId={index} stagger=\"none\" spring={spring}>\n            {(flippedProps) => (\n              <ScoreCard\n                cardIndex={i}\n                picksEnabled={picksEnabled}\n                sealed={shuffling}\n                selected={selectedCards.includes(i)}\n                gameOver={gameOver}\n                scores={scores}\n                flippedProps={flippedProps}\n              />\n            )}\n          </Flipped>\n        ))}\n      </Flipper>\n      {gameOver && showConfetti && <Confetti />}\n    </div>\n  )\n}\n\nexport default Game\n","import { createRef } from 'react'\nimport { Route } from 'react-router-dom'\nimport { CSSTransition } from 'react-transition-group'\n// Components -----------------------------\nimport WelcomeScreen from 'components/screens/WelcomeScreen'\nimport FormScreen from 'components/screens/FormScreen'\nimport InviteScreen from 'components/screens/InviteScreen'\nimport GameScreen from 'components/screens/GameScreen'\n\nconst routes = [\n  {\n    path: '/Game-Lucky-Three/welcome',\n    name: 'Welcome',\n    Component: WelcomeScreen\n  },\n  { path: '/Game-Lucky-Three/form', name: 'Form', Component: FormScreen },\n  { path: '/Game-Lucky-Three/invite', name: 'Invite', Component: InviteScreen },\n  { path: '/Game-Lucky-Three/game', name: 'Game', Component: GameScreen }\n]\n\nfunction App() {\n  // -----------------------------\n  // Create ref for each route\n  // -----------------------------\n  routes.forEach(({ name }) => (routes[name] = createRef()))\n\n  return (\n    <>\n      {routes.map(({ path, name, Component }) => (\n        <Route key={path} exact path={path}>\n          {({ match }) => (\n            <CSSTransition\n              nodeRef={routes[name]}\n              in={match != null}\n              timeout={2000}\n              classNames=\"screen\"\n              unmountOnExit\n            >\n              <div className=\"screen\" ref={routes[name]}>\n                <Component />\n              </div>\n            </CSSTransition>\n          )}\n        </Route>\n      ))}\n    </>\n  )\n}\n\nexport default App\n","import { useDispatch } from 'react-redux'\nimport { disableForm } from 'redux/appReducer'\nimport MenuIcon from 'images/menu-icon.svg'\nimport Form from 'components/Form'\nimport Stars from 'components/Stars'\nimport NavButton from 'components/NavButton'\n\nexport default function FormScreen() {\n  const dispatch = useDispatch()\n  const handleDisableForm = () => {\n    setTimeout(dispatch, 1000, disableForm())\n  }\n\n  return (\n    <>\n      <div className=\"card mt-auto\">\n        <div className=\"card-title\">\n          <img src={MenuIcon} alt=\"\" />\n          <span className=\"text-gradient\">Fill the form</span>\n        </div>\n        <div className=\"card-info mb-1\">\n          we want to know a little\n          <br />\n          bit about you ;)\n        </div>\n        <Form />\n        <Stars />\n      </div>\n      <NavButton onClick={handleDisableForm} />\n    </>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setInviteLink } from 'redux/appReducer'\nimport DogsImg from 'images/dogs.svg'\nimport Stars from 'components/Stars'\nimport SocialLinks from 'components/SocialLinks'\nimport InviteButton from 'components/InviteButton'\n\nexport default function InviteScreen() {\n  const { inviteLink, invitesLeft } = useSelector((state) => state.app)\n  const [doneInviting, setDoneInviting] = useState(invitesLeft < 1)\n  const inviteFriendsText = `send invite to ${\n    invitesLeft > 1 ? `${invitesLeft} friends` : 'one friend'\n  }`\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    setDoneInviting(invitesLeft < 1)\n  }, [invitesLeft])\n\n  return (\n    <div className=\"card mt-minus-2\">\n      <img className=\"card-image friends\" src={DogsImg} alt=\"Friends Logo\" />\n      <div className=\"title-1 card-title-right mb-2\">\n        Invite\n        <br />a friend\n      </div>\n      <div className={`card-info nowrap pb-1 ${doneInviting ? 'hidden' : ''}`}>\n        {inviteFriendsText}\n      </div>\n      <div className=\"form flex-center mt-1\">\n        <div className=\"form-control w-100 space-around\">\n          {!doneInviting && (\n            <div className=\"label\">\n              <SocialLinks\n                onClick={(link) => dispatch(setInviteLink(link))}\n                activeLink={inviteLink}\n              />\n            </div>\n          )}\n          <InviteButton inviteLink={inviteLink} showToGameBtn={doneInviting} />\n        </div>\n      </div>\n      <Stars />\n    </div>\n  )\n}\n","import Game from 'components/Game'\n\nexport default function GameScreen() {\n  return <Game />\n}\n","export default class Particle {\n  constructor(bounds) {\n    this._bounds = bounds\n    this.reset(true)\n  }\n\n  reset(init = false) {\n    this.z = init ? random(0, this._bounds.z.max) : this._bounds.z.max\n    const depth = this._bounds.depth / (this._bounds.depth + this.z)\n\n    this.x = random(this._bounds.x.min, this._bounds.x.max) / depth\n    this.y = random(this._bounds.y.min, this._bounds.y.max) / depth\n    this.ox = this.x\n    this.oy = this.y\n    this.oz = this.z\n    this.vx = 0\n    this.vy = 0\n    this.vz = random(-1, -10)\n    this.ax = 0\n    this.ay = 0\n    this.az = 0\n    this.s = 0\n    this.sx = 0\n    this.sy = 0\n    this.os = this.s\n    this.osx = this.sx\n    this.osy = this.sy\n    this.hue = random(120, 200)\n    this.lightness = random(100, 150)\n    this.alpha = 0\n  }\n\n  update() {\n    this.vx += this.ax\n    this.vy += this.ay\n    this.vz += this.az\n\n    this.x += this.vx\n    this.y += this.vy\n    this.z += this.vz\n\n    if (\n      this.sx - this.sr > this._bounds.x.max ||\n      this.sy - this.sr > this._bounds.y.max ||\n      this.z > this._bounds.z.max ||\n      this.sx + this.sr < this._bounds.x.min ||\n      this.sy + this.sr < this._bounds.y.min ||\n      this.z < this._bounds.z.min\n    ) {\n      this.reset()\n    }\n\n    this.ox = this.x\n    this.oy = this.y\n    this.oz = this.z\n    this.os = this.s\n    this.osx = this.sx\n    this.osy = this.sy\n  }\n}\n\nfunction random(min, max) {\n  return Math.random() * (max - min) + min\n}\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport raf from 'raf'\nimport Particle from 'particle'\n\nclass SpaceBackground extends PureComponent {\n  static propTypes = {\n    numParticles: PropTypes.number,\n    lineWidth: PropTypes.number,\n    alphaFactor: PropTypes.number,\n    depth: PropTypes.number,\n    size: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    }),\n    style: PropTypes.object\n  }\n\n  static defaultProps = {\n    numParticles: 600,\n    alphaFactor: 1,\n    lineWidth: 2,\n    depth: 300,\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      overflow: 'hidden',\n      zIndex: -1\n    },\n    size: {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n  }\n\n  componentDidMount() {\n    this._reset(this.props)\n    this._tick()\n  }\n\n  componentWillUnmount() {\n    raf.cancel(this._tickRaf)\n  }\n\n  render() {\n    const {\n      numParticles,\n      lineWidth,\n      alphaFactor,\n      depth,\n      size,\n      style,\n      ...rest\n    } = this.props\n\n    return (\n      <div id=\"space-bg\" style={style} {...rest}>\n        <canvas ref={this._canvasRef} width={size.width} height={size.height} />\n      </div>\n    )\n  }\n\n  _canvasRef = (ref) => {\n    this._canvas = ref\n  }\n\n  _tick = () => {\n    this._update()\n    this._draw()\n\n    this._tickRaf = raf(this._tick)\n  }\n\n  _update() {\n    for (let i = 0; i < this._particles.length; ++i) {\n      this._particles[i].update()\n    }\n  }\n\n  _draw() {\n    if (!this._canvas) return\n    const ctx = this._canvas.getContext('2d')\n    const { alphaFactor, lineWidth } = this.props\n\n    ctx.save()\n    ctx.translate(this._vp.x, this._vp.y)\n    ctx.clearRect(\n      -this._vp.x,\n      -this._vp.y,\n      this._bounds.width,\n      this._bounds.height\n    )\n    ctx.lineWidth = lineWidth\n\n    for (let i = 0; i < this._particles.length; ++i) {\n      const p = this._particles[i]\n\n      p.s = this._bounds.depth / (this._bounds.depth + p.z)\n      p.sx = p.x * p.s\n      p.sy = p.y * p.s\n      p.alpha =\n        (alphaFactor * (this._bounds.z.max - p.z)) / (this._bounds.z.max / 2)\n\n      ctx.beginPath()\n      ctx.moveTo(p.sx, p.sy)\n      ctx.lineTo(p.osx, p.osy)\n      ctx.strokeStyle =\n        'hsla(' + p.hue + ', 100%, ' + p.lightness + '%, ' + p.alpha + ')'\n      ctx.stroke()\n    }\n\n    ctx.restore()\n  }\n\n  _reset(props) {\n    const { numParticles, depth, size } = props\n\n    this._particles = []\n\n    const vp = {\n      x: size.width / 2,\n      y: size.height / 2\n    }\n\n    this._vp = vp\n    this._bounds = {\n      depth,\n      width: size.width,\n      height: size.height,\n      x: { min: -vp.x, max: size.width - vp.x },\n      y: { min: -vp.y, max: size.height - vp.y },\n      z: { min: -depth, max: 500 }\n    }\n\n    for (let i = 0; i < numParticles; ++i) {\n      this._particles.push(new Particle(this._bounds))\n    }\n  }\n}\n\nexport default SpaceBackground\n","import { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchStatus } from 'redux/appReducer'\nimport isSafari from 'util/isSafari'\n// Images to preload ----------------------\nimport imagePreload from 'util/imagePreload'\nimport ScoreHolderImage from 'images/score-holder.svg'\nimport HolderActiveImage from 'images/holder-active.svg'\nimport LockImage from 'images/lock.svg'\nimport CoinImage from 'images/coin.svg'\n// Components -----------------------------\nimport App from 'App'\nimport SpaceBackground from 'components/SpaceBackground'\n// import Ruler from 'components/Ruler'\n\nfunction AppWrapper() {\n  const { pending } = useSelector((state) => state.app)\n  const [showApp, setShowApp] = useState(false)\n  const [showSpaceBg, setShowSpaceBg] = useState(false)\n  const [animation, setAnimation] = useState('hidden')\n  const dispatch = useDispatch()\n  // -----------------------------\n  // Initial setup\n  // -----------------------------\n  useEffect(() => {\n    isSafari() && document.documentElement.classList.add('safari')\n    imagePreload([ScoreHolderImage, HolderActiveImage, LockImage, CoinImage])\n    setTimeout(setShowSpaceBg, isSafari() ? 0 : 1000, true) // fix bug on android webview\n    dispatch(fetchStatus())\n  }, [dispatch])\n\n  useEffect(() => {\n    if (!pending) {\n      setTimeout(setShowApp, 500, true)\n      setAnimation('zoomIn delay-0-5')\n    }\n  }, [pending])\n\n  return (\n    <>\n      {showApp && (\n        <div className={`app flex-center flex-column animate ${animation}`}>\n          <App />\n        </div>\n      )}\n      {showSpaceBg && (\n        <SpaceBackground\n          size={{ width: window.innerWidth, height: window.innerHeight }}\n        />\n      )}\n      {/* {showSpaceBg && <Ruler />} */}\n    </>\n  )\n}\n\nexport default AppWrapper\n","export default function imagePreload(images) {\n  for (let i = 0; i < images.length; i++) {\n    const image = new Image()\n    image.src = images[i]\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from 'reportWebVitals'\nimport { Provider } from 'react-redux'\nimport store from 'redux/store'\nimport { Router } from 'react-router-dom'\nimport history from './history'\nimport AppWrapper from 'AppWrapper'\nimport 'styles/bundle.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router history={history}>\n        <AppWrapper />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}